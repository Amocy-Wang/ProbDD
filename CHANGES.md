# CHANGES
This documentation tells you where we modify the source code of Chisel and HDD and the reasons for why we modify the area. You can find detailed comments in the corresponding area.

## CHANGES in Chisel
**Summary:** ddmin algorithm is integrated into the original Chisel implementation. The main changes on the original Chisel implementation is to replace ddmin algorithm with **ProbDD**. For Chisel with activecoarsen, the main changes are to replace ddmin with ActiveCoarsen algorithm. Minor changes include adding **token counter** and **log printer**. More details on the **CHANGEs** are as follows. What's more, you can find corresponding **COMMENTs** in the corresponding source files.
- Replacing ddmin with ProbDD / ActiveCoarsen. The changes are made in function *doDeltaDebugging* of src/core/Reduction.cpp.
- Token counter. The changes are made in include/Frontend.h and src/core/Frontend.cpp. We add function *count* as a token counter.
- Log printer. The changes are mainly made in Chisel.cpp to print token numbers.

## CHANGES in HDD
**Summary:** Similar to Chisel, ddmin algorithm is integrated into the original HDD implementation (i.e., Picireny and Picire in our artifact). The main changes on the original HDD implementation is to replace ddmin with **ProbDD**. For HDD with activecoarsen, the main changes are to replace ddmin with ActiveCoarsen algorithm. Minor changes include **setting tree depth limitation**, accordingly **modifying API call points**, and adding **log printer**. More details on the **CHANGEs** are as follows. What's more, you can find corresponding **COMMENTs** in the corresponding source files.
- Replacing ddmin with ProbDD / ActiveCoarsen. The changes are made by adding picire/abstract_probdd.py (abstract_activecoarsen.py for ActiveCoarsen) and picire/prob_dd.py (picire/activecoarsen_dd.py for ActiveCoarsen).
- Setting tree depth limitation. The changes are made in picireny/antlr4/hdd_tree_builder.py. The ASTs of programs used in our dataset generated by Antlr4 are deep, which depth exceeds the default depth limit. Hence, we need to set the depth limit big enough for handling the deep generated ASTs.
- Modifying API call points. The changes are made in picire/cli.py. We change the default reduce class (i.e., ddmin) to ProbDD.
- Adding Log printer. The changes are mainly made in picireny/cli.py to print processing time. What's more, for unified statistical method, the token counter is developed as a independent plug-ins as same as the token counter in Chisel. 

